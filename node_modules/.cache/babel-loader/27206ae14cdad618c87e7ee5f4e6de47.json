{"ast":null,"code":"// import React, { useState } from \"react\";\n// import { TextField } from \"@material-ui/core\";\n// import Button from \"@material-ui/core/Button\";\n// import Axios from \"axios\";\n// import { makeStyles } from \"@material-ui/core/styles\";\n// import \"./index.css\";\n// import { useContext } from \"react\";\n// import { UserContext } from \"../../Contexts/UserContext\";\n// const useStyles = makeStyles((theme) => ({\n//   root: {\n//     \"& > *\": {\n//       margin: theme.spacing(1),\n//     },\n//   },\n//   input: {\n//     display: \"none\",\n//   },\n// }));\n// export default function EditModal(props) {\n//   const classes = useStyles();\n//   const data = useContext(UserContext);\n//   const url = \"https://api.cloudinary.com/v1_1/dryaxqxie/image/upload\";\n//   const preset = \"chitter\";\n//   const [image, setImage] = useState(\"\");\n//   const [errorMsg, setErrorMsg] = useState(\"\");\n//   const [tweet, setTweet] = useState(\"\");\n//   const [bio, setBio] = useState(\"\");\n//   const [fullName, setFullName] = useState(\"\");\n//   let newMsgTimeoutHandle = 0;\n//   const [isOpen, setIsOpen] = useState(false);\n//   const openModal = () => {\n//     if (props.link) {\n//       window.location.href = \"/signup\";\n//     } else {\n//       setIsOpen(true);\n//     }\n//   };\n//   const closeModal = () => {\n//     console.log(\"closed\");\n//     setIsOpen(false);\n//   };\n//   const onChange = (e) => {\n//     setImage(e.target.files[0]);\n//     console.log(image);\n//   };\n//   const componentWillUnmount = () => {\n//     clearTimeout(newMsgTimeoutHandle);\n//   };\n//   const updateProfile = async (photoId) => {\n//     try {\n//       await Axios.post(\n//         \"http://localhost:3001/users/\" + props.username + \"/update/\",\n//         {\n//           bio: bio,\n//           fullName: fullName,\n//           bioPhotoId: photoId,\n//         },\n//         {\n//           withCredentials: true,\n//         }\n//       ).then((response) => {\n//         console.log(response);\n//         if (response.data === \"Bio Updated\") {\n//           window.location.href =  \"http://localhost:3000/profile/\" + props.username;\n//         } else if (response.data !== \"Bio Updated\") {\n//           setErrorMsg(\"Bio could not be updated\");\n//           clearTimeout(newMsgTimeoutHandle);\n//           newMsgTimeoutHandle = setTimeout(() => {\n//             setErrorMsg(\"\");\n//             newMsgTimeoutHandle = 0;\n//           }, 10000);\n//         }\n//       });\n//     } catch (err) {\n//       console.error(err);\n//     }\n//   };\n//   const checkValidation = async (e) => {\n//     if (!image) {\n//       let photoId = \"\";\n//       updateProfile(photoId);\n//     } else {\n//       const formData = new FormData();\n//       formData.append(\"file\", image);\n//       formData.append(\"upload_preset\", preset);\n//       const res = await Axios.post(url, formData);\n//       let photoId = res.data.secure_url;\n//       updateProfile(photoId);\n//     }\n//   };\n//   return (\n//     <div className=\"updateBioWrapper\">\n//       {isOpen && (\n//         <>\n//           <div className=\"overlay\"></div>\n//           <div className=\"modal\">\n//             <header className=\"modal__header\">\n//               <div onClick={closeModal} className=\"close-button\">\n//                 &times;\n//               </div>\n//             </header>\n//             <main className=\"modal__main\">\n//               <div>\n//                 <div>\n//                   {errorMsg}\n//                   <form autoComplete=\"off\">\n//                     <TextField\n//                       id=\"standard-full-width\"\n//                       label=\"Name\"\n//                       placeholder={props.fullName}\n//                       fullWidth\n//                       margin=\"normal\"\n//                       InputLabelProps={{\n//                         shrink: true,\n//                       }}\n//                       onChange={(e) => {\n//                         setFullName(e.target.value);\n//                       }}\n//                     />\n//                     <TextField\n//                       id=\"standard-full-width\"\n//                       label=\"Your Bio\"\n//                       placeholder={props.bio}\n//                       fullWidth\n//                       margin=\"normal\"\n//                       InputLabelProps={{\n//                         shrink: true,\n//                       }}\n//                       onChange={(e) => {\n//                         setBio(e.target.value);\n//                       }}\n//                     />\n//                     <div\n//                       className={classes.root}\n//                       style={{ margin: 30 }}\n//                       className=\"uploadBtn\"\n//                     >\n//                       <input\n//                         accept=\"image/*\"\n//                         className={classes.input}\n//                         id=\"contained-button-file\"\n//                         multiple\n//                         type=\"file\"\n//                         onChange={onChange}\n//                       />\n//                       <label htmlFor=\"contained-button-file\">\n//                         <Button variant=\"contained\" component=\"span\">\n//                           Update Bio Photo\n//                         </Button>\n//                       </label>\n//                     </div>\n//                     <div className=\"uploadBtn\">\n//                       <Button\n//                         variant=\"contained\"\n//                         style={{ width: 290, backgroundColor: \"lightblue\" }}\n//                         onClick={checkValidation}\n//                       >\n//                         Submit\n//                       </Button>\n//                     </div>\n//                   </form>\n//                 </div>\n//               </div>\n//             </main>\n//             {/* {previewSource && (\n//               <div className=\"previewDiv\">\n//                 <img\n//                   src={previewSource}\n//                   alt=\"chosen\"\n//                   className=\"preview-image\"\n//                 />\n//               </div>\n//             )} */}\n//           </div>\n//         </>\n//       )}\n//       <button className=\"button\" onClick={openModal}>\n//         Edit Bio\n//       </button>\n//     </div>\n//   );\n// }","map":{"version":3,"sources":["/Users/phil/Projects/chitter-react/src/components/EditModal/index.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["// import React, { useState } from \"react\";\n// import { TextField } from \"@material-ui/core\";\n// import Button from \"@material-ui/core/Button\";\n// import Axios from \"axios\";\n// import { makeStyles } from \"@material-ui/core/styles\";\n// import \"./index.css\";\n// import { useContext } from \"react\";\n// import { UserContext } from \"../../Contexts/UserContext\";\n\n// const useStyles = makeStyles((theme) => ({\n//   root: {\n//     \"& > *\": {\n//       margin: theme.spacing(1),\n//     },\n//   },\n//   input: {\n//     display: \"none\",\n//   },\n// }));\n\n// export default function EditModal(props) {\n//   const classes = useStyles();\n//   const data = useContext(UserContext);\n\n//   const url = \"https://api.cloudinary.com/v1_1/dryaxqxie/image/upload\";\n//   const preset = \"chitter\";\n//   const [image, setImage] = useState(\"\");\n//   const [errorMsg, setErrorMsg] = useState(\"\");\n//   const [tweet, setTweet] = useState(\"\");\n//   const [bio, setBio] = useState(\"\");\n//   const [fullName, setFullName] = useState(\"\");\n//   let newMsgTimeoutHandle = 0;\n\n//   const [isOpen, setIsOpen] = useState(false);\n\n//   const openModal = () => {\n//     if (props.link) {\n//       window.location.href = \"/signup\";\n//     } else {\n//       setIsOpen(true);\n//     }\n//   };\n\n//   const closeModal = () => {\n//     console.log(\"closed\");\n//     setIsOpen(false);\n//   };\n\n//   const onChange = (e) => {\n//     setImage(e.target.files[0]);\n//     console.log(image);\n//   };\n\n//   const componentWillUnmount = () => {\n//     clearTimeout(newMsgTimeoutHandle);\n//   };\n\n//   const updateProfile = async (photoId) => {\n//     try {\n//       await Axios.post(\n//         \"http://localhost:3001/users/\" + props.username + \"/update/\",\n//         {\n//           bio: bio,\n//           fullName: fullName,\n//           bioPhotoId: photoId,\n//         },\n//         {\n//           withCredentials: true,\n//         }\n//       ).then((response) => {\n//         console.log(response);\n//         if (response.data === \"Bio Updated\") {\n//           window.location.href =  \"http://localhost:3000/profile/\" + props.username;\n//         } else if (response.data !== \"Bio Updated\") {\n//           setErrorMsg(\"Bio could not be updated\");\n//           clearTimeout(newMsgTimeoutHandle);\n//           newMsgTimeoutHandle = setTimeout(() => {\n//             setErrorMsg(\"\");\n//             newMsgTimeoutHandle = 0;\n//           }, 10000);\n//         }\n//       });\n//     } catch (err) {\n//       console.error(err);\n//     }\n//   };\n\n//   const checkValidation = async (e) => {\n//     if (!image) {\n//       let photoId = \"\";\n//       updateProfile(photoId);\n//     } else {\n//       const formData = new FormData();\n//       formData.append(\"file\", image);\n//       formData.append(\"upload_preset\", preset);\n//       const res = await Axios.post(url, formData);\n//       let photoId = res.data.secure_url;\n//       updateProfile(photoId);\n//     }\n//   };\n\n//   return (\n//     <div className=\"updateBioWrapper\">\n//       {isOpen && (\n//         <>\n//           <div className=\"overlay\"></div>\n//           <div className=\"modal\">\n//             <header className=\"modal__header\">\n//               <div onClick={closeModal} className=\"close-button\">\n//                 &times;\n//               </div>\n//             </header>\n//             <main className=\"modal__main\">\n//               <div>\n//                 <div>\n//                   {errorMsg}\n//                   <form autoComplete=\"off\">\n//                     <TextField\n//                       id=\"standard-full-width\"\n//                       label=\"Name\"\n//                       placeholder={props.fullName}\n//                       fullWidth\n//                       margin=\"normal\"\n//                       InputLabelProps={{\n//                         shrink: true,\n//                       }}\n//                       onChange={(e) => {\n//                         setFullName(e.target.value);\n//                       }}\n//                     />\n//                     <TextField\n//                       id=\"standard-full-width\"\n//                       label=\"Your Bio\"\n//                       placeholder={props.bio}\n//                       fullWidth\n//                       margin=\"normal\"\n//                       InputLabelProps={{\n//                         shrink: true,\n//                       }}\n//                       onChange={(e) => {\n//                         setBio(e.target.value);\n//                       }}\n//                     />\n//                     <div\n//                       className={classes.root}\n//                       style={{ margin: 30 }}\n//                       className=\"uploadBtn\"\n//                     >\n//                       <input\n//                         accept=\"image/*\"\n//                         className={classes.input}\n//                         id=\"contained-button-file\"\n//                         multiple\n//                         type=\"file\"\n//                         onChange={onChange}\n//                       />\n//                       <label htmlFor=\"contained-button-file\">\n//                         <Button variant=\"contained\" component=\"span\">\n//                           Update Bio Photo\n//                         </Button>\n//                       </label>\n//                     </div>\n//                     <div className=\"uploadBtn\">\n//                       <Button\n//                         variant=\"contained\"\n//                         style={{ width: 290, backgroundColor: \"lightblue\" }}\n//                         onClick={checkValidation}\n//                       >\n//                         Submit\n//                       </Button>\n//                     </div>\n//                   </form>\n//                 </div>\n//               </div>\n//             </main>\n//             {/* {previewSource && (\n//               <div className=\"previewDiv\">\n//                 <img\n//                   src={previewSource}\n//                   alt=\"chosen\"\n//                   className=\"preview-image\"\n//                 />\n//               </div>\n//             )} */}\n//           </div>\n//         </>\n//       )}\n\n//       <button className=\"button\" onClick={openModal}>\n//         Edit Bio\n//       </button>\n//     </div>\n//   );\n// }"]},"metadata":{},"sourceType":"module"}